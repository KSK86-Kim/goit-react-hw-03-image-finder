{"version":3,"sources":["components/Header/Header.module.css","components/Main/Main.module.css","components/Footer/Footer.module.css","components/Container/Container.module.css","components/Section/Section.module.css","components/Header/Header.jsx","components/Main/Main.jsx","components/Footer/Footer.jsx","components/Container/Container.jsx","components/Section/Section.jsx","components/Button/Button.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallety.jsx","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","services/gallery-api.js","App.js","index.js"],"names":["module","exports","Header","children","className","styles","Main","Footer","Container","totalsClass","borderClass","container","Section","this","props","title","Component","Button","onClick","type","ImageGalleryItem","src","alt","largeImageURL","onThumbClick","data-largeimageurl","ImageGallety","images","map","imageObj","webformatURL","tags","id","Searchbar","state","query","onInputChange","event","setState","target","value","handleSubmit","preventDefault","onSubmit","autoComplete","autoFocus","placeholder","onChange","React","modalRoot","document","querySelector","Modal","onEscClick","window","addEventListener","removeEventListener","imageUrl","onModalClick","createPortal","fetchImages","searchQuery","nextPage","pageSize","axios","get","then","responce","data","hits","App","modalIsOpen","imagesArray","isLoading","error","errorMsg","pageLoad","ontions","newImages","prevState","catch","messge","finally","scrollTo","top","documentElement","scrollHeight","behavior","onChangeQuery","e","dataset","largeimageurl","currentTarget","code","prevProps","color","height","width","visible","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.508354fd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3mfnY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__z84uf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__2pTzq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__udpRK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Section_title__3D4Rt\"};","import React from 'react';\nimport styles from './Header.module.css';\n\nconst Header = ({ children }) => {\n    return <header className={styles['header']}>{children}</header>;\n};\n\nexport default Header;\n","import React from 'react';\nimport styles from './Main.module.css';\n\nconst Main = ({ children }) => {\n    return <header className={styles['main']}>{children}</header>;\n};\n\nexport default Main;\n","import React from 'react';\nimport styles from './Footer.module.css';\n\nconst Footer = ({ children }) => {\n    return <footer className={styles['footer']}>{children}</footer>;\n};\n\nexport default Footer;\n","import React from 'react';\nimport styles from './Container.module.css';\n\nconst Container = ({ children, borderClass }) => {\n    const totalsClass = [styles.container];\n    return <div className={totalsClass}>{children}</div>;\n};\n\nexport default Container;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Section.module.css';\n\nclass Section extends Component {\n    render() {\n        const { title, children } = this.props;\n        return (\n            <section>\n                <h2 className={styles['title']}>{title}</h2>\n                {children}\n            </section>\n        );\n    }\n}\nSection.propTypes = {\n    title: PropTypes.string,\n};\n\nexport default Section;\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => {\r\n    return (\r\n        <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n            load more\r\n        </button>\r\n    );\r\n};\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ src, alt, largeImageURL, onThumbClick }) => {\r\n    return (\r\n        <li className=\"ImageGalleryItem\">\r\n            <img\r\n                src={src}\r\n                alt={alt}\r\n                className=\"ImageGalleryItem__image\"\r\n                data-largeimageurl={largeImageURL}\r\n                onClick={onThumbClick}\r\n            />\r\n        </li>\r\n    );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    src: PropTypes.string.isRequired,\r\n    alt: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    onThumbClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nclass ImageGallety extends Component {\r\n    render() {\r\n        const { images, onThumbClick, children } = this.props;\r\n        return (\r\n            <ul className=\"ImageGallery\">\r\n                {images.map(imageObj => {\r\n                    return (\r\n                        <ImageGalleryItem\r\n                            key={imageObj.id}\r\n                            largeImageURL={imageObj.largeImageURL}\r\n                            src={imageObj.webformatURL}\r\n                            alt={imageObj.tags}\r\n                            onThumbClick={onThumbClick}\r\n                        />\r\n                    );\r\n                })}\r\n                {children}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nImageGallety.propTypes = {\r\n    images: PropTypes.array.isRequired,\r\n    onThumbClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallety;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends React.Component {\r\n    state = {\r\n        query: '',\r\n    };\r\n\r\n    onInputChange = event => {\r\n        this.setState({ query: event.target.value });\r\n    };\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        const { onSubmit } = this.props;\r\n        if (this.state.query) onSubmit(this.state.query);\r\n        this.setState({ query: '' });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Searchbar\">\r\n                <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className=\"SearchForm-button\">\r\n                        <span className=\"SearchForm-button-label\">Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className=\"SearchForm-input\"\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={this.state.query}\r\n                        onChange={this.onInputChange}\r\n                    />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    // onSubmit: PropTypes.func.isRequired,\r\n};\r\nexport default Searchbar;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n        const { onEscClick } = this.props;\r\n        window.addEventListener('keydown', onEscClick);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const { onEscClick } = this.props;\r\n        window.removeEventListener('keydown', onEscClick);\r\n    }\r\n\r\n    render() {\r\n        const { imageUrl, onModalClick } = this.props;\r\n        return createPortal(\r\n            <div className=\"Overlay\" onClick={onModalClick}>\r\n                <div className=\"Modal\">\r\n                    <img src={imageUrl} alt=\"\" />\r\n                </div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n    }\r\n}\r\n\r\nModal.propTypes = {\r\n    imageUrl: PropTypes.string.isRequired,\r\n    onModalClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '17667415-6f718af57a22652ec3432b17e';\n\nfunction fetchImages({ searchQuery = '', nextPage = 1, pageSize = 12 }) {\n    return axios\n        .get(\n            `${BASE_URL}?key=${API_KEY}&q=${searchQuery}&page=${nextPage}&per_page=${pageSize}&image_type=photo&orientation=horizontal`,\n        )\n        .then(responce => responce.data.hits);\n}\nexport { fetchImages };\n","import React, { Component, Fragment } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n// import { v4 as uuidv4 } from 'uuid';\n\n//////\nimport Header from './components/Header';\nimport Main from './components/Main';\nimport Footer from './components/Footer';\nimport Container from './components/Container';\nimport Section from './components/Section';\nimport Button from './components/Button';\nimport ImageGallery from './components/ImageGallery';\nimport Searchbar from './components/Searchbar';\nimport Modal from './components/Modal';\n\n//////\nimport { fetchImages } from './services/gallery-api';\n\nclass App extends Component {\n    state = {\n        modalIsOpen: false,\n        searchQuery: '',\n        imagesArray: [],\n        largeImageURL: '',\n        nextPage: 1,\n        isLoading: false,\n        error: false,\n        errorMsg: '',\n        pageSize: 12,\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.searchQuery !== this.state.searchQuery) {\n            this.pageLoad();\n        }\n    }\n\n    pageLoad = () => {\n        const { searchQuery, nextPage, pageSize } = this.state;\n        const ontions = {\n            searchQuery,\n            nextPage,\n            pageSize,\n        };\n        this.setState({ isLoading: true, error: false });\n        fetchImages(ontions)\n            .then(newImages =>\n                this.setState(prevState => {\n                    return {\n                        imagesArray: [...prevState.imagesArray, ...newImages],\n                        nextPage: prevState.nextPage + 1,\n                    };\n                }),\n            )\n            .catch(error => {\n                this.setState({ error: true, errorMsg: error.messge });\n            })\n            .finally(() => {\n                this.setState({ isLoading: false });\n                if (this.state.nextPage > 2)\n                    window.scrollTo({\n                        top: document.documentElement.scrollHeight,\n                        behavior: 'smooth',\n                    });\n            });\n    };\n\n    onChangeQuery = query => {\n        if (this.state.searchQuery === query) {\n            return;\n        }\n        this.setState({\n            searchQuery: query,\n            imagesArray: [],\n            largeImageURL: '',\n            nextPage: 1,\n        });\n    };\n\n    onThumbClick = e => {\n        this.setState({\n            modalIsOpen: true,\n            largeImageURL: e.target.dataset.largeimageurl,\n        });\n    };\n    onModalClick = e => {\n        if (e.target === e.currentTarget) {\n            this.setState({ modalIsOpen: false });\n        }\n    };\n    onEscClick = e => {\n        if (e.code === 'Escape') {\n            this.setState({\n                modalIsOpen: false,\n            });\n        }\n    };\n    render() {\n        const {\n            modalIsOpen,\n            imagesArray,\n            isLoading,\n            error,\n            errorMsg,\n            largeImageURL,\n        } = this.state;\n        return (\n            <Fragment>\n                <Header />\n                <Main>\n                    <Section title=\"Image finder\">\n                        <Container>\n                            <Searchbar onSubmit={this.onChangeQuery} />\n                            <ImageGallery\n                                images={imagesArray}\n                                onThumbClick={this.onThumbClick}\n                                isLoading={isLoading}\n                            />\n                            {/* <Button onClick={this.pageLoad} /> */}\n                            {isLoading && (\n                                <div className=\"spinner\">\n                                    <Loader\n                                        type=\"Rings\"\n                                        color=\"#00BFFF\"\n                                        height={100}\n                                        width={100}\n                                        visible={true}\n                                    />\n                                </div>\n                            )}\n                            {error && (\n                                <Fragment>\n                                    <p className=\"error-message\">\n                                        Oops, something went wrong...\n                                    </p>\n                                    <p className=\"error-message\">{errorMsg}</p>\n                                </Fragment>\n                            )}\n                            {imagesArray.length > 0 && !error && (\n                                <Button onClick={this.pageLoad} />\n                            )}\n                            {modalIsOpen && (\n                                <Modal\n                                    imageUrl={largeImageURL}\n                                    onModalClick={this.onModalClick}\n                                    onEscClick={this.onEscClick}\n                                />\n                            )}\n                        </Container>\n                    </Section>\n                </Main>\n                <Footer />\n            </Fragment>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './styles/base.scss';\nimport './styles/rep.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}